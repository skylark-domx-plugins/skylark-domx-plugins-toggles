{"version":3,"sources":["fullscreen.js"],"names":["define","langx","styler","noder","eventer","$","plugins","toggles","Fullscreen","Plugin","inherit","klassName","pluginName","options","classes","full","unfull","selectors","fullscreenButton","_construct","elm","prototype","call","this","$el","target","elmx","$fullscreenButton","find","$fullscreenIcons","fullscreenIcons","listenTo","toggleFullScreen","updateFullscreenButton","fullscreen","attr","removeClass","addClass","register"],"mappings":";;;;;;;AAAAA,QACE,gBACA,sBACA,qBACA,uBACA,qBACA,4BACA,aACA,SAASC,EAAMC,EAAOC,EAAOC,EAAQC,EAAIC,EAAQC,GAEjD,aAEA,IAAIC,EAAaF,EAAQG,OAAOC,SAC9BC,UAAY,aAEZC,WAAa,0BAEbC,SACEC,SACEC,KAAO,OACPC,OAAS,UAEXC,WACEC,iBAAmB,OAKvBC,WAAY,SAASC,EAAKP,GAExBP,EAAQG,OAAOY,UAAUF,WAAWG,KAAKC,KAAKH,EAAIP,GAElD,IAAIW,EAAMD,KAAKlB,IACXY,EAAYM,KAAKV,QAAQI,UAChBM,KAAKE,OAASF,KAAKG,KAAKH,KAAKV,QAAQY,QAE9CR,EAAUC,iBACZK,KAAKI,kBAAoBH,EAAII,KAAKX,EAAUC,kBAE5CK,KAAKI,kBAAoBH,EAG3BD,KAAKM,iBAAmBL,EAAII,KAAKX,EAAUa,iBAG3CP,KAAKQ,SAASR,KAAKI,kBAAkB,QAAQJ,KAAKS,kBAClDT,KAAKQ,SAASR,KAAKE,OAAO,mBAAmBF,KAAKU,wBAClDV,KAAKU,0BAOPD,iBAAmB,WACb7B,EAAM+B,aACR/B,EAAM+B,YAAW,GAEjBX,KAAKE,OAAOS,cAMhBD,uBAAyB,WACnB9B,EAAM+B,cACRX,KAAKI,kBAAkBQ,KAAK,aAAc,wBAC1CZ,KAAKI,kBAAkBS,YAAYb,KAAKV,QAAQC,QAAQC,MAAMsB,SAASd,KAAKV,QAAQC,QAAQE,UAE5FO,KAAKI,kBAAkBQ,KAAK,aAAc,mBAC1CZ,KAAKI,kBAAkBS,YAAYb,KAAKV,QAAQC,QAAQE,QAAQqB,SAASd,KAAKV,QAAQC,QAAQC,UAQpG,OAFAT,EAAQgC,SAAS9B,GAEVD,EAAQC,WAAaA","file":"../fullscreen.js","sourcesContent":["define([\r\n  \"skylark-langx\",\r\n  \"skylark-domx-styler\",\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./toggles\"\r\n],function(langx,styler,noder, eventer,$ , plugins,toggles) {\r\n\r\n  'use strict'\r\n\r\n  var Fullscreen = plugins.Plugin.inherit({\r\n    klassName : \"Fullscreen\",\r\n\r\n    pluginName : \"domx.toggles.fullscreen\",\r\n   \r\n    options : {\r\n      classes : {\r\n        full : \"full\",\r\n        unfull : \"unfull\"\r\n      },\r\n      selectors : {\r\n        fullscreenButton : null //'.fullscreen-button',\r\n      }\r\n    },\r\n\r\n\r\n    _construct: function(elm, options) {\r\n      //this.options = options\r\n      plugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n      let $el = this.$(),\r\n          selectors = this.options.selectors,\r\n          target = this.target = this.elmx(this.options.target);\r\n\r\n      if (selectors.fullscreenButton) {\r\n        this.$fullscreenButton = $el.find(selectors.fullscreenButton);\r\n      } else {\r\n        this.$fullscreenButton = $el;\r\n      }\r\n\r\n      this.$fullscreenIcons = $el.find(selectors.fullscreenIcons);\r\n\r\n      // Add eventlisteners here\r\n      this.listenTo(this.$fullscreenButton,'click',this.toggleFullScreen);\r\n      this.listenTo(this.target,'fullscreenchange',this.updateFullscreenButton);\r\n      this.updateFullscreenButton();\r\n    },\r\n\r\n\r\n    // toggleFullScreen toggles the full screen state of the video\r\n    // If the browser is currently in fullscreen mode,\r\n    // then it should exit and vice versa.\r\n    toggleFullScreen : function () {\r\n      if (noder.fullscreen()) {\r\n        noder.fullscreen(false);\r\n      } else {\r\n        this.target.fullscreen();\r\n      }\r\n    },\r\n\r\n    // updateFullscreenButton changes the icon of the full screen button\r\n    // and tooltip to reflect the current full screen state of the video\r\n    updateFullscreenButton : function () {\r\n      if (noder.fullscreen()) {\r\n        this.$fullscreenButton.attr('data-title', 'Exit full screen (f)');\r\n        this.$fullscreenButton.removeClass(this.options.classes.full).addClass(this.options.classes.unfull);\r\n      } else {\r\n        this.$fullscreenButton.attr('data-title', 'Full screen (f)');\r\n        this.$fullscreenButton.removeClass(this.options.classes.unfull).addClass(this.options.classes.full);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  plugins.register(Fullscreen);\r\n\r\n  return toggles.Fullscreen = Fullscreen;\r\n});\r\n\r\n"]}